[gd_scene load_steps=66 format=3 uid="uid://bbfuqqxswh6x0"]

[ext_resource type="PackedScene" uid="uid://yt5vihcqbymr" path="res://HouseGen/HouseScene.tscn" id="1_ksmiq"]
[ext_resource type="PackedScene" uid="uid://burd7rvt3gne5" path="res://Player/player.tscn" id="2_e6g4e"]
[ext_resource type="Script" path="res://Utils/custom_camera.gd" id="3_7dhxg"]
[ext_resource type="Script" path="res://Environment/game_manager.gd" id="4_6omd2"]
[ext_resource type="Texture2D" uid="uid://bojieokwfxbvx" path="res://Sprites/BUBBLE.png" id="4_iklww"]
[ext_resource type="Shader" path="res://UI/scroll.gdshader" id="5_g602o"]
[ext_resource type="FontFile" uid="uid://cx55imgibsjte" path="res://Sprites/fonts/SpaceMono-Regular.ttf" id="5_go5dp"]
[ext_resource type="Shader" path="res://Environment/ripple.gdshader" id="5_ohp0i"]
[ext_resource type="Texture2D" uid="uid://380ypsg8tefb" path="res://UI/waterTile (1).png" id="6_80ln4"]
[ext_resource type="Script" path="res://UI/Timer.gd" id="6_jpqif"]
[ext_resource type="Script" path="res://UI/scoreScreen/scoreBoard.gd" id="8_xg2lv"]
[ext_resource type="Texture2D" uid="uid://bni5ra7oguscv" path="res://UI/scoreScreen/Board/amazing_icon.png" id="9_oueqd"]
[ext_resource type="Texture2D" uid="uid://c22xb4le4mhad" path="res://UI/scoreScreen/Board/terrible_stamp.png" id="9_qpplr"]
[ext_resource type="PackedScene" uid="uid://bw04633k6vv8p" path="res://PickupObjects/delivery_zone.tscn" id="9_vnbf0"]
[ext_resource type="Texture2D" uid="uid://dr5mbdqtn6rda" path="res://UI/scoreScreen/Board/terrible.png" id="10_268ae"]
[ext_resource type="Texture2D" uid="uid://dbvb35qqpdpgo" path="res://UI/scoreScreen/Board/bad_stamp.png" id="10_jevcb"]
[ext_resource type="AudioStream" uid="uid://bnw7jgnhrs8p5" path="res://sound/Streams/Environment/Ambience.mp3" id="10_o64ml"]
[ext_resource type="Texture2D" uid="uid://b14e4c8c27bpi" path="res://UI/scoreScreen/Board/alright_stamp.png" id="11_kyysc"]
[ext_resource type="Texture2D" uid="uid://ck0jq7xng00a8" path="res://UI/scoreScreen/Board/bad.png" id="11_rwue1"]
[ext_resource type="Texture2D" uid="uid://wrrefss5jknn" path="res://UI/scoreScreen/Board/alright.png" id="12_23a0b"]
[ext_resource type="Texture2D" uid="uid://4j7gvhto2hy0" path="res://UI/scoreScreen/Board/good_stamp.png" id="12_iyhi7"]
[ext_resource type="Texture2D" uid="uid://dlhnulcimtmr4" path="res://UI/Sprites/Button - PS Cross 1.png" id="12_v7bep"]
[ext_resource type="Texture2D" uid="uid://ctpl3f0t0dgkl" path="res://UI/Sprites/Button - PS Square 1.png" id="13_5waif"]
[ext_resource type="Texture2D" uid="uid://bmsee076868fs" path="res://UI/scoreScreen/Board/good.png" id="13_wyk4m"]
[ext_resource type="Texture2D" uid="uid://c7w4ehmcsjhyb" path="res://UI/Sprites/Button - PS Circle 1.png" id="14_ncwh1"]
[ext_resource type="Texture2D" uid="uid://sagfuly2176o" path="res://UI/scoreScreen/Board/amazing.png" id="14_qc0pv"]
[ext_resource type="Texture2D" uid="uid://bv1b5xhhtaamo" path="res://UI/Sprites/PS5_Dpad.png" id="15_861aq"]
[ext_resource type="Script" path="res://UI/scoreScreen/totalScoreLabel.gd" id="16_ft6b8"]
[ext_resource type="Script" path="res://UI/scoreScreen/amountLabel.gd" id="17_3pdx4"]
[ext_resource type="Script" path="res://UI/scoreScreen/damagesLabel.gd" id="18_52dhs"]
[ext_resource type="Texture2D" uid="uid://doin5ob32sps1" path="res://UI/scoreScreen/Board/you_scored.png" id="19_fjn16"]
[ext_resource type="AudioStream" uid="uid://dn8reyelka05u" path="res://sound/AHHH/Result_Terrible.wav" id="21_3r7ou"]
[ext_resource type="Texture2D" uid="uid://d2bh8n6kxskvo" path="res://UI/scoreBoard.png" id="21_7q7rw"]
[ext_resource type="AudioStream" uid="uid://cnfotp60iqcqt" path="res://sound/AHHH/Result_Bad.wav" id="22_3cd3q"]
[ext_resource type="AudioStream" uid="uid://0n7b2lc7pmou" path="res://sound/AHHH/Result_Alright.wav" id="23_l2acm"]
[ext_resource type="AudioStream" uid="uid://brihxtc0ov2x4" path="res://sound/Drumroll.wav" id="24_7feh1"]
[ext_resource type="AudioStream" uid="uid://d2v6v2wi3br4d" path="res://sound/AHHH/Result_good.wav" id="24_eu22v"]
[ext_resource type="AudioStream" uid="uid://df7bnkms33b8b" path="res://sound/AHHH/Result_Amazing.wav" id="25_yc8iq"]
[ext_resource type="Texture2D" uid="uid://synshpwc1nrm" path="res://UI/Menu/menu.png" id="27_6tb4q"]
[ext_resource type="Texture2D" uid="uid://bsq3x5mlbajkg" path="res://UI/Menu/menu_hovered.png" id="28_1yqmp"]
[ext_resource type="Texture2D" uid="uid://ba25wrsswq5gs" path="res://UI/Ã¤.png" id="29_a23uj"]
[ext_resource type="Script" path="res://sound_listener.gd" id="34_1iyvl"]
[ext_resource type="AudioStream" uid="uid://d0twm8q5e0wd2" path="res://sound/Streams/Interactables/Damage/RandomWoodDamage.tres" id="35_jqvij"]
[ext_resource type="Texture2D" uid="uid://igtokihvppwk" path="res://sound/AHHH/3to1.png" id="35_n4j5o"]
[ext_resource type="AudioStream" uid="uid://q77ntrinjeu4" path="res://sound/Streams/Interactables/Destruction/RandomWoodDamage.tres" id="36_7qu8t"]
[ext_resource type="Texture2D" uid="uid://d4atp1snu23ve" path="res://sound/AHHH/2to2.png" id="36_ntspm"]
[ext_resource type="AudioStream" uid="uid://cm58krigp71mq" path="res://sound/Streams/Music/Music_Intensity1.wav" id="36_pxlfi"]
[ext_resource type="AudioStream" uid="uid://c5vg1oph36qu2" path="res://sound/Streams/Music/Music_Intensity2.wav" id="37_mrexa"]
[ext_resource type="Texture2D" uid="uid://cwh1yk48rfn3k" path="res://sound/AHHH/1to1.png" id="37_xtrni"]
[ext_resource type="Texture2D" uid="uid://bgnv0thprdod5" path="res://SPEECHbUBBLE3.png" id="38_kv6ox"]
[ext_resource type="AudioStream" uid="uid://mqaipulpp6kr" path="res://sound/Streams/Music/Music_Intensity3.wav" id="38_ylhwf"]
[ext_resource type="AudioStream" uid="uid://j1onew3lugvj" path="res://sound/Streams/Music/Music_Intensity4.wav" id="39_r3e7i"]
[ext_resource type="Texture2D" uid="uid://bjvcrpvw78qgu" path="res://Sprites/truck_roof.png" id="41_eqn05"]
[ext_resource type="Script" path="res://vanRoogf.gd" id="42_xa8dp"]

[sub_resource type="Curve" id="Curve_383s0"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0.637363), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Gradient" id="Gradient_8v8av"]
offsets = PackedFloat32Array(0, 0.111765, 0.941176, 1)
colors = PackedColorArray(0.313726, 0.72549, 0.94902, 0, 0.845969, 0.943195, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_34sib"]
gradient = SubResource("Gradient_8v8av")

[sub_resource type="Curve" id="Curve_3ajnj"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.252525, 1), 0.0, 0.0, 0, 0, Vector2(0.787879, 1), 0.0572582, 0.0572582, 0, 0, Vector2(1, 0), -24.2967, 0.0, 0, 0]
point_count = 4

[sub_resource type="CurveTexture" id="CurveTexture_l6yu0"]
curve = SubResource("Curve_3ajnj")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_w4uby"]
particle_flag_disable_z = true
emission_shape = 3
emission_box_extents = Vector3(9999, 9999, 1)
angle_min = -165.7
angle_max = 471.5
angular_velocity_min = -63.72
angular_velocity_max = 50.97
gravity = Vector3(0, 0, 0)
scale_min = 0.2
scale_max = 0.4
scale_curve = SubResource("CurveTexture_l6yu0")
color_ramp = SubResource("GradientTexture1D_34sib")
hue_variation_min = -0.05
hue_variation_max = 0.05

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vcoq5"]
shader = ExtResource("5_g602o")
shader_parameter/motion = Vector2(30, 35)
shader_parameter/scale = 1.0
shader_parameter/offset = Vector2(0, 0)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_7y1yn"]
shader = ExtResource("5_ohp0i")
shader_parameter/wave_count = 20.0
shader_parameter/speed = 3.0
shader_parameter/height = 0.001
shader_parameter/color = Color(0.254902, 0.478431, 0.576471, 1)
shader_parameter/mix_val = 0.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_05451"]
bg_color = Color(0, 0.345098, 0.678431, 0.337255)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_i8800"]
bg_color = Color(0.521569, 0.678431, 1, 0.603922)

[sub_resource type="Curve" id="Curve_vivfy"]
_data = [Vector2(0, 0), 0.0, 2.03419, 0, 0, Vector2(1, 0.582417), 0.35343, 0.0, 0, 0]
point_count = 2

[node name="HouseTest2" type="Node2D"]

[node name="HouseScene" parent="." instance=ExtResource("1_ksmiq")]
scale = Vector2(2.5, 2.5)

[node name="Camera2D" type="Camera2D" parent="." groups=["cam"]]
position = Vector2(894, 3356)
zoom = Vector2(0.19, 0.19)
position_smoothing_speed = 500.0
script = ExtResource("3_7dhxg")
zoom_modifier_curve = SubResource("Curve_383s0")

[node name="player" parent="." instance=ExtResource("2_e6g4e")]
position = Vector2(886, 3350)
allow_controller = true

[node name="GPUParticles2D" type="GPUParticles2D" parent="."]
process_mode = 3
amount = 75
process_material = SubResource("ParticleProcessMaterial_w4uby")
texture = ExtResource("4_iklww")
lifetime = 0.7
explosiveness = 0.09

[node name="CanvasLayer" type="CanvasLayer" parent="." node_paths=PackedStringArray("background", "title_text", "manager_holder", "number_holder", "tex_bg")]
process_mode = 3
script = ExtResource("4_6omd2")
background = NodePath("BG")
title_text = NodePath("TitleTextIntro/Label")
manager_holder = NodePath("Manager")
menu_path = "res://UI/Menu/menu.tscn"
number_holder = NodePath("NumTex")
_3tex = ExtResource("35_n4j5o")
_2tex = ExtResource("36_ntspm")
_1tex = ExtResource("37_xtrni")
tex_bg = NodePath("bg")

[node name="BG2" type="TextureRect" parent="CanvasLayer"]
modulate = Color(1, 1, 1, 0.0705882)
material = SubResource("ShaderMaterial_vcoq5")
custom_minimum_size = Vector2(62.44, 0)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(1.885, 1.885)
texture = ExtResource("6_80ln4")
stretch_mode = 1

[node name="Shader" type="ColorRect" parent="CanvasLayer"]
material = SubResource("ShaderMaterial_7y1yn")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="BG" type="ColorRect" parent="CanvasLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0)

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer"]
offset_right = 40.0
offset_bottom = 40.0
theme_override_constants/margin_left = 70
theme_override_constants/margin_top = 35

[node name="TIME" type="Label" parent="CanvasLayer/MarginContainer" node_paths=PackedStringArray("progress")]
process_mode = 3
layout_mode = 2
theme_override_fonts/font = ExtResource("5_go5dp")
theme_override_font_sizes/font_size = 48
text = "Time left"
script = ExtResource("6_jpqif")
level_time_secs = 180
progress = NodePath("ProgressBar")

[node name="ProgressBar" type="ProgressBar" parent="CanvasLayer/MarginContainer/TIME"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = 73.0
offset_bottom = 73.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/background = SubResource("StyleBoxFlat_05451")
theme_override_styles/fill = SubResource("StyleBoxFlat_i8800")
value = 0.5
show_percentage = false

[node name="ScoreBoard" type="Control" parent="CanvasLayer" node_paths=PackedStringArray("bg", "stamp_holder", "stamp_text_holder", "you_scored_holder")]
layout_mode = 3
anchor_left = 0.009
anchor_right = 0.598
anchor_bottom = 0.625
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(1.615, 1.615)
script = ExtResource("8_xg2lv")
bg = NodePath("../BG")
score_stamps = Array[Texture2D]([ExtResource("9_qpplr"), ExtResource("10_jevcb"), ExtResource("11_kyysc"), ExtResource("12_iyhi7"), ExtResource("9_oueqd")])
score_texts = Array[Texture2D]([ExtResource("10_268ae"), ExtResource("11_rwue1"), ExtResource("12_23a0b"), ExtResource("13_wyk4m"), ExtResource("14_qc0pv")])
score_sounds = Array[AudioStream]([ExtResource("21_3r7ou"), ExtResource("22_3cd3q"), ExtResource("23_l2acm"), ExtResource("24_eu22v"), ExtResource("25_yc8iq")])
stamp_roll_curve = SubResource("Curve_vivfy")
stamp_holder = NodePath("Stamp")
stamp_text_holder = NodePath("StampText")
you_scored_holder = NodePath("YouScored")

[node name="Player" type="AudioStreamPlayer" parent="CanvasLayer/ScoreBoard"]

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/ScoreBoard"]
layout_mode = 0
offset_left = 201.238
offset_top = 72.4458
offset_right = 2121.24
offset_bottom = 1152.45
scale = Vector2(0.6, 0.6)
texture = ExtResource("21_7q7rw")

[node name="Title" type="Label" parent="CanvasLayer/ScoreBoard"]
layout_mode = 0
offset_left = 743.238
offset_top = 195.446
offset_right = 794.238
offset_bottom = 218.446
text = "SCORE"

[node name="totalScoreLabel" type="Label" parent="CanvasLayer/ScoreBoard"]
layout_mode = 0
offset_left = 751.238
offset_top = 579.446
offset_right = 859.238
offset_bottom = 603.446
theme_override_fonts/font = ExtResource("5_go5dp")
text = "      Total"
script = ExtResource("16_ft6b8")

[node name="amountLabel" type="Label" parent="CanvasLayer/ScoreBoard"]
layout_mode = 0
offset_left = 752.238
offset_top = 223.446
offset_right = 1105.24
offset_bottom = 247.446
theme_override_fonts/font = ExtResource("5_go5dp")
text = "Object type     amnt      value"
script = ExtResource("17_3pdx4")

[node name="damagesLabel" type="Label" parent="CanvasLayer/ScoreBoard"]
layout_mode = 0
offset_left = 751.238
offset_top = 537.446
offset_right = 1006.24
offset_bottom = 561.446
theme_override_fonts/font = ExtResource("5_go5dp")
text = "      Damages            "
script = ExtResource("18_52dhs")

[node name="Stamp" type="TextureRect" parent="CanvasLayer/ScoreBoard"]
layout_mode = 0
offset_left = 475.988
offset_top = 297.214
offset_right = 2539.99
offset_bottom = 1754.21
scale = Vector2(0.138447, 0.138931)
texture = ExtResource("9_qpplr")
stretch_mode = 4

[node name="StampText" type="TextureRect" parent="CanvasLayer/ScoreBoard"]
layout_mode = 0
offset_left = 159.579
offset_top = 463.777
offset_right = 2221.58
offset_bottom = 840.777
scale = Vector2(0.196857, 0.196857)
texture = ExtResource("14_qc0pv")

[node name="YouScored" type="TextureRect" parent="CanvasLayer/ScoreBoard"]
layout_mode = 0
offset_left = 74.13
offset_top = 369.659
offset_right = 1390.13
offset_bottom = 676.659
scale = Vector2(0.229264, 0.229264)
texture = ExtResource("19_fjn16")

[node name="Drumroll" type="AudioStreamPlayer" parent="CanvasLayer/ScoreBoard"]
stream = ExtResource("24_7feh1")

[node name="Menu" type="TextureButton" parent="CanvasLayer/ScoreBoard"]
layout_mode = 0
offset_left = 1026.45
offset_top = 0.619195
offset_right = 2054.45
offset_bottom = 769.619
scale = Vector2(0.15, 0.15)
texture_normal = ExtResource("27_6tb4q")
texture_pressed = ExtResource("28_1yqmp")
texture_hover = ExtResource("28_1yqmp")
texture_focused = ExtResource("28_1yqmp")

[node name="bg" type="TextureRect" parent="CanvasLayer"]
offset_left = 67.0
offset_top = 161.0
offset_right = 5806.0
offset_bottom = 857.0
scale = Vector2(0.312771, 0.312771)
texture = ExtResource("38_kv6ox")

[node name="TitleTextIntro" type="MarginContainer" parent="CanvasLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 2.0
offset_top = 13.0
offset_right = 2.0
offset_bottom = 13.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
theme_override_constants/margin_top = 200

[node name="Label" type="Label" parent="CanvasLayer/TitleTextIntro"]
layout_mode = 2
size_flags_vertical = 0
theme_override_colors/font_color = Color(0.14902, 0.14902, 0.14902, 1)
theme_override_fonts/font = ExtResource("5_go5dp")
theme_override_font_sizes/font_size = 66
text = "This is title text"
horizontal_alignment = 1

[node name="NumTex" type="TextureRect" parent="CanvasLayer"]
offset_left = 986.0
offset_top = 155.0
offset_right = 3050.0
offset_bottom = 1612.0
scale = Vector2(0.25, 0.25)
texture = ExtResource("35_n4j5o")

[node name="Manager" type="TextureRect" parent="CanvasLayer"]
offset_left = 233.0
offset_top = 336.0
offset_right = 2297.0
offset_bottom = 1793.0
scale = Vector2(0.25, 0.25)
texture = ExtResource("29_a23uj")

[node name="DeliveryZone" parent="." instance=ExtResource("9_vnbf0")]
position = Vector2(894, 4412)
rotation = -1.5822

[node name="VanRoof" type="Sprite2D" parent="DeliveryZone"]
z_index = 10
texture = ExtResource("41_eqn05")
script = ExtResource("42_xa8dp")

[node name="Ambience" type="AudioStreamPlayer" parent="."]
process_mode = 3
stream = ExtResource("10_o64ml")
autoplay = true

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="."]
color = Color(0.87451, 0.886275, 0.882353, 1)
blend_mode = 1

[node name="DirectionalLight2D2" type="DirectionalLight2D" parent="."]
color = Color(0.619608, 0.898039, 0.988235, 1)
energy = 0.75

[node name="Node2D" type="Node2D" parent="."]
position = Vector2(-610, -3042)
scale = Vector2(1.63, 1.63)

[node name="ColorRect" type="ColorRect" parent="Node2D"]
offset_left = 1305.0
offset_top = 4116.0
offset_right = 1345.0
offset_bottom = 4156.0
scale = Vector2(38.4892, 19.3612)
color = Color(0.145098, 0.145098, 0.145098, 0.45098)

[node name="Label" type="Label" parent="Node2D"]
offset_left = 1335.0
offset_top = 4749.0
offset_right = 1907.0
offset_bottom = 4856.0
theme_override_fonts/font = ExtResource("5_go5dp")
theme_override_font_sizes/font_size = 72
text = "<- Leave Early"

[node name="Label2" type="Label" parent="Node2D"]
offset_left = 1367.0
offset_top = 4152.0
offset_right = 2643.0
offset_bottom = 4589.0
theme_override_fonts/font = ExtResource("5_go5dp")
theme_override_font_sizes/font_size = 72
text = "Move: WASD or 
Pick object up: left click or
Drop object: middle click  or
Throw object: right click  or
"

[node name="Button-PsCross1" type="Sprite2D" parent="Node2D"]
position = Vector2(2733, 4317)
scale = Vector2(0.245092, 0.245092)
texture = ExtResource("12_v7bep")

[node name="Button-PsCross2" type="Sprite2D" parent="Node2D"]
position = Vector2(2733, 4427)
scale = Vector2(0.245092, 0.245092)
texture = ExtResource("13_5waif")

[node name="Button-PsCross3" type="Sprite2D" parent="Node2D"]
position = Vector2(2733, 4541)
scale = Vector2(0.245092, 0.245092)
texture = ExtResource("14_ncwh1")

[node name="Ps5Dpad" type="Sprite2D" parent="Node2D"]
position = Vector2(2019, 4211)
scale = Vector2(1.28, 1.28)
texture = ExtResource("15_861aq")

[node name="SoundListener" type="Node" parent="."]
script = ExtResource("34_1iyvl")

[node name="Damage" type="AudioStreamPlayer" parent="SoundListener"]
stream = ExtResource("35_jqvij")

[node name="Break" type="AudioStreamPlayer" parent="SoundListener"]
stream = ExtResource("36_7qu8t")

[node name="I1" type="AudioStreamPlayer" parent="SoundListener"]
stream = ExtResource("36_pxlfi")

[node name="I2" type="AudioStreamPlayer" parent="SoundListener"]
stream = ExtResource("37_mrexa")
volume_db = -80.0

[node name="I3" type="AudioStreamPlayer" parent="SoundListener"]
stream = ExtResource("38_ylhwf")
volume_db = -80.0

[node name="I4" type="AudioStreamPlayer" parent="SoundListener"]
stream = ExtResource("39_r3e7i")
volume_db = -80.0

[connection signal="pressed" from="CanvasLayer/ScoreBoard/Menu" to="CanvasLayer" method="_on_menu_pressed"]
